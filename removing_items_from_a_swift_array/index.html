<!DOCTYPE html><html><head><meta charset="utf-8" /><meta content="width=device-width" name="viewport" /><!-- Always force latest IE rendering engine or request Chrome Frame --><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><!-- Use title if it's in the page YAML frontmatter --><title>Removing Items from a Swift Array</title><link href="../stylesheets/all-6265b695.css" media="screen" rel="stylesheet" type="text/css" /><script src="../javascripts/all-da39a3ee.js" type="text/javascript"></script><script type="text/javascript">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-5291400-3', 'dbgrandi.github.io');
ga('send', 'pageview');</script><body><div class="wrapper"><header><h1><a href="http://dbgrandi.github.io">David Grandinetti</a></h1></header><div class="container"><div class="inner"><h1>Removing Items from a Swift Array</h1><h4 class="date">Aug 23, 2014</h4><article><p>While the semantics of Swift are still being ironed out, it seems like there is a <a href="https://devforums.apple.com/message/979026#979026">bit of discussion</a> about what that may look like, specifically when it comes to Arrays.</p>

<p>Here's a simple Array extension to remove instances of a specific item. The type details were inspired by <a href="https://github.com/pNre/ExSwift/blob/master/ExSwift/Array.swift">ExSwift</a>, but I didnt' want to create a new array like pNre did.</p>

<pre><code class="highlight swift"><span class="kd">extension</span> <span class="nc">Array</span> <span class="p">{</span>
  <span class="k">mutating</span> <span class="kd">func</span> <span class="n">remove</span> <span class="o">&lt;</span><span class="nv">U</span><span class="p">:</span> <span class="n">Equatable</span><span class="o">&gt;</span> <span class="p">(</span><span class="nv">object</span><span class="p">:</span> <span class="n">U</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="nf">stride</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">count</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nv">through</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">by</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="k">let</span> <span class="nv">element</span> <span class="o">=</span> <span class="k">self</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">as</span><span class="p">?</span> <span class="n">U</span> <span class="p">{</span>
        <span class="k">if</span> <span class="n">element</span> <span class="o">==</span> <span class="n">object</span> <span class="p">{</span>
          <span class="k">self</span><span class="o">.</span><span class="nf">removeAtIndex</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">var</span> <span class="nv">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
<span class="nf">println</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="c1">// "[1,2,3,2,4]"
</span><span class="n">a</span><span class="o">.</span><span class="nf">remove</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="nf">println</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="c1">// "[1,3,4]"
</span></code></pre>

<p>Update from <a href="https://twitter.com/orta">@orta</a>: The other part of this that can be tricky is making sure your objects are properly equatable.</p>

<pre><code class="highlight swift"><span class="kd">class</span> <span class="nc">TinkerObject</span> <span class="p">:</span> <span class="n">Equatable</span> <span class="p">{</span>
  <span class="c1">// your class impl...
</span><span class="p">}</span>

<span class="c1">// note that this is OUTSIDE of your class impl to make it global
</span><span class="kd">public</span> <span class="kd">func</span> <span class="o">==</span><span class="p">(</span><span class="nv">lhs</span><span class="p">:</span> <span class="n">TinkerObject</span><span class="p">,</span> <span class="nv">rhs</span><span class="p">:</span> <span class="n">TinkerObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">lhs</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">rhs</span><span class="o">.</span><span class="n">id</span>
<span class="p">}</span>
</code></pre>
</article></div></div><footer><div class="social"><a href="http://twitter.com/dbgrandi"><img size="128x128" alt="David's Twitter Account" src="../images/twitter-120-58a9508a.png" /></a><a href="http://github.com/dbgrandi"><img size="128x128" alt="David's Github Account" src="../images/github-120-8e4af8e0.png" /></a></div></footer></div></body></head></html>